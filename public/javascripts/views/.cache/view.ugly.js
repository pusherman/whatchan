define(["jquery","backbone","underscore","models/channel","text!templates/main.html"],function(e,t,n,r,i){var s=t.View.extend({el:"#container",initialize:function(){this.channel=new r,this.channel.bind("change",n.bind(this.showResults,this)),this.template=n.template(i)},showResults:function(t){var r=this;require(["text!templates/channel.html"],function(t){channelView=n.template(t,{channel:r.channel.toJSON()}),e("#searchResults").remove(),e(r.el).append(channelView)})},events:{"keypress #channel":"doSearch"},render:function(){e(this.el).append(this.template)},doSearch:function(t){if(t.keyCode!=13)return;this.channel.lookUp(e("#channel").val())}});return new s})